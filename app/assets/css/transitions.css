/* ====================================================================
   ZXCV Animation System
   
   A modern, performant animation library with a focus on:
   - Smooth, natural movements using spring physics
   - GPU-accelerated transforms
   - Accessibility-friendly reduced motion support
   - Consistent timing and easing curves
   ==================================================================== */

/* --------------------------------------------------------------------
   Base Configuration
   -------------------------------------------------------------------- */

:root {
	/* Timing functions */
	--ease-out: cubic-bezier(0.16, 1, 0.3, 1);
	--ease-in-out: cubic-bezier(0.45, 0, 0.55, 1);
	--ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
	--ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

	/* Duration scales */
	--duration-instant: 100ms;
	--duration-fast: 200ms;
	--duration-normal: 300ms;
	--duration-slow: 500ms;
	--duration-slower: 800ms;

	/* Spring physics */
	--spring-stiffness: 300;
	--spring-damping: 20;
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
	* {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
	}
}

/* --------------------------------------------------------------------
   Page Transitions
   -------------------------------------------------------------------- */

/* Default page transition - subtle fade and scale */
.page-enter-active,
.page-leave-active {
	transition: all var(--duration-normal) var(--ease-out);
}

.page-enter-from {
	opacity: 0;
	transform: translateY(10px) scale(0.99);
}

.page-leave-to {
	opacity: 0;
	transform: translateY(-10px) scale(0.99);
}

/* Layout transition for shared elements */
.layout-enter-active,
.layout-leave-active {
	transition: all var(--duration-slow) var(--ease-in-out);
}

.layout-enter-from {
	opacity: 0;
}

.layout-leave-to {
	opacity: 0;
}

/* --------------------------------------------------------------------
   Component Transitions
   -------------------------------------------------------------------- */

/* Fade transition */
.fade-enter-active,
.fade-leave-active {
	transition: opacity var(--duration-fast) var(--ease-out);
}

.fade-enter-from,
.fade-leave-to {
	opacity: 0;
}

/* Scale transition */
.scale-enter-active,
.scale-leave-active {
	transition: all var(--duration-fast) var(--ease-spring);
}

.scale-enter-from {
	opacity: 0;
	transform: scale(0.9);
}

.scale-leave-to {
	opacity: 0;
	transform: scale(1.1);
}

/* Slide transitions */
.slide-up-enter-active,
.slide-up-leave-active,
.slide-down-enter-active,
.slide-down-leave-active,
.slide-left-enter-active,
.slide-left-leave-active,
.slide-right-enter-active,
.slide-right-leave-active {
	transition: all var(--duration-normal) var(--ease-out);
}

.slide-up-enter-from {
	opacity: 0;
	transform: translateY(20px);
}

.slide-up-leave-to {
	opacity: 0;
	transform: translateY(-20px);
}

.slide-down-enter-from {
	opacity: 0;
	transform: translateY(-20px);
}

.slide-down-leave-to {
	opacity: 0;
	transform: translateY(20px);
}

.slide-left-enter-from {
	opacity: 0;
	transform: translateX(20px);
}

.slide-left-leave-to {
	opacity: 0;
	transform: translateX(-20px);
}

.slide-right-enter-from {
	opacity: 0;
	transform: translateX(-20px);
}

.slide-right-leave-to {
	opacity: 0;
	transform: translateX(20px);
}

/* --------------------------------------------------------------------
   Modal & Overlay Animations
   -------------------------------------------------------------------- */

/* Modal backdrop */
.modal-backdrop-enter-active,
.modal-backdrop-leave-active {
	transition: opacity var(--duration-normal) var(--ease-out);
}

.modal-backdrop-enter-from,
.modal-backdrop-leave-to {
	opacity: 0;
}

/* Modal content */
.modal-enter-active {
	transition: all var(--duration-normal) var(--ease-spring);
}

.modal-leave-active {
	transition: all var(--duration-fast) var(--ease-in-out);
}

.modal-enter-from {
	opacity: 0;
	transform: scale(0.9) translateY(10px);
}

.modal-leave-to {
	opacity: 0;
	transform: scale(0.95) translateY(-10px);
}

/* --------------------------------------------------------------------
   Dropdown & Popover Animations
   -------------------------------------------------------------------- */

.dropdown-enter-active {
	transition: all var(--duration-fast) var(--ease-out);
	transform-origin: top center;
}

.dropdown-leave-active {
	transition: all var(--duration-instant) var(--ease-in-out);
	transform-origin: top center;
}

.dropdown-enter-from {
	opacity: 0;
	transform: scaleY(0.95) translateY(-5px);
}

.dropdown-leave-to {
	opacity: 0;
	transform: scaleY(0.95) translateY(-5px);
}

/* --------------------------------------------------------------------
   Toast & Notification Animations
   -------------------------------------------------------------------- */

.toast-enter-active {
	animation: toastSlideIn var(--duration-normal) var(--ease-spring);
}

.toast-leave-active {
	animation: toastSlideOut var(--duration-fast) var(--ease-in-out);
}

@keyframes toastSlideIn {
	from {
		transform: translateX(100%);
		opacity: 0;
	}
	to {
		transform: translateX(0);
		opacity: 1;
	}
}

@keyframes toastSlideOut {
	from {
		transform: translateX(0);
		opacity: 1;
	}
	to {
		transform: translateX(100%);
		opacity: 0;
	}
}

/* --------------------------------------------------------------------
   Loading States
   -------------------------------------------------------------------- */

/* Spinner animation */
@keyframes spin {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

.animate-spin {
	animation: spin 1s linear infinite;
}

/* Pulse animation */
@keyframes pulse {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

.animate-pulse {
	animation: pulse 2s var(--ease-in-out) infinite;
}

/* Skeleton loader */
@keyframes shimmer {
	from {
		background-position: -200% 0;
	}
	to {
		background-position: 200% 0;
	}
}

.skeleton {
	background: linear-gradient(
		90deg,
		rgba(0, 0, 0, 0.05) 25%,
		rgba(0, 0, 0, 0.1) 50%,
		rgba(0, 0, 0, 0.05) 75%
	);
	background-size: 200% 100%;
	animation: shimmer 1.5s infinite;
}

.dark .skeleton {
	background: linear-gradient(
		90deg,
		rgba(255, 255, 255, 0.05) 25%,
		rgba(255, 255, 255, 0.1) 50%,
		rgba(255, 255, 255, 0.05) 75%
	);
	background-size: 200% 100%;
}

/* Dots loader */
@keyframes dotFlashing {
	0%,
	80%,
	100% {
		opacity: 0;
		transform: scale(0.8);
	}
	40% {
		opacity: 1;
		transform: scale(1);
	}
}

.loading-dots span {
	animation: dotFlashing 1.4s infinite ease-in-out;
}

.loading-dots span:nth-child(1) {
	animation-delay: -0.32s;
}

.loading-dots span:nth-child(2) {
	animation-delay: -0.16s;
}

/* --------------------------------------------------------------------
   Micro Interactions
   -------------------------------------------------------------------- */

/* Button press effect */
.button-press:active {
	transform: scale(0.97);
	transition: transform var(--duration-instant) var(--ease-out);
}

/* Hover lift effect */
.hover-lift {
	transition: transform var(--duration-fast) var(--ease-out);
}

.hover-lift:hover {
	transform: translateY(-2px);
}

/* Focus ring animation */
@keyframes focusRing {
	from {
		box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.5);
	}
	to {
		box-shadow: 0 0 0 4px rgba(59, 130, 246, 0);
	}
}

.focus-ring:focus-visible {
	animation: focusRing var(--duration-normal) var(--ease-out);
}

/* --------------------------------------------------------------------
   Accordion & Collapse
   -------------------------------------------------------------------- */

.collapse-enter-active,
.collapse-leave-active {
	transition: all var(--duration-normal) var(--ease-out);
	overflow: hidden;
}

.collapse-enter-from,
.collapse-leave-to {
	max-height: 0;
	opacity: 0;
}

/* --------------------------------------------------------------------
   List Animations
   -------------------------------------------------------------------- */

/* Stagger animation for lists */
.list-enter-active,
.list-leave-active {
	transition: all var(--duration-normal) var(--ease-out);
}

.list-enter-from {
	opacity: 0;
	transform: translateX(-10px);
}

.list-leave-to {
	opacity: 0;
	transform: translateX(10px);
}

.list-move {
	transition: transform var(--duration-normal) var(--ease-out);
}

/* --------------------------------------------------------------------
   Theme Transitions
   -------------------------------------------------------------------- */

/* Theme transitions - only for color-related properties */
.theme-transition {
	transition:
		background-color var(--duration-normal) var(--ease-out),
		border-color var(--duration-normal) var(--ease-out),
		color var(--duration-normal) var(--ease-out);
}

/* Apply theme transition to direct children that need it */
.theme-transition > div,
.theme-transition > header,
.theme-transition > footer,
.theme-transition > main,
.theme-transition > section,
.theme-transition > article,
.theme-transition > aside,
.theme-transition > nav,
.theme-transition > button,
.theme-transition > a,
.theme-transition > span,
.theme-transition > p,
.theme-transition > h1,
.theme-transition > h2,
.theme-transition > h3,
.theme-transition > h4,
.theme-transition > h5,
.theme-transition > h6,
.theme-transition > ul,
.theme-transition > ol,
.theme-transition > li,
.theme-transition > label,
.theme-transition > input,
.theme-transition > textarea,
.theme-transition > select {
	transition:
		background-color var(--duration-normal) var(--ease-out),
		border-color var(--duration-normal) var(--ease-out),
		color var(--duration-normal) var(--ease-out);
}

/* --------------------------------------------------------------------
   Utility Classes
   -------------------------------------------------------------------- */

/* Delays */
.delay-75 {
	animation-delay: 75ms;
}
.delay-100 {
	animation-delay: 100ms;
}
.delay-150 {
	animation-delay: 150ms;
}
.delay-200 {
	animation-delay: 200ms;
}
.delay-300 {
	animation-delay: 300ms;
}
.delay-500 {
	animation-delay: 500ms;
}

/* Durations */
.duration-75 {
	animation-duration: 75ms;
}
.duration-100 {
	animation-duration: 100ms;
}
.duration-150 {
	animation-duration: 150ms;
}
.duration-200 {
	animation-duration: 200ms;
}
.duration-300 {
	animation-duration: 300ms;
}
.duration-500 {
	animation-duration: 500ms;
}
.duration-700 {
	animation-duration: 700ms;
}
.duration-1000 {
	animation-duration: 1000ms;
}

/* --------------------------------------------------------------------
   Special Effects
   -------------------------------------------------------------------- */

/* Ripple effect */
@keyframes ripple {
	from {
		transform: scale(0);
		opacity: 0.6;
	}
	to {
		transform: scale(4);
		opacity: 0;
	}
}

.ripple {
	position: relative;
	overflow: hidden;
}

.ripple::after {
	content: "";
	position: absolute;
	top: 50%;
	left: 50%;
	width: 0;
	height: 0;
	border-radius: 50%;
	background: currentColor;
	opacity: 0;
	transform: translate(-50%, -50%);
	pointer-events: none;
}

.ripple:active::after {
	animation: ripple var(--duration-slow) var(--ease-out);
}

/* Glow effect */
@keyframes glow {
	0%,
	100% {
		opacity: 0.5;
		transform: scale(1);
	}
	50% {
		opacity: 1;
		transform: scale(1.05);
	}
}

.glow-pulse {
	animation: glow 2s var(--ease-in-out) infinite;
}

/* Success checkmark */
@keyframes checkmark {
	from {
		stroke-dashoffset: 100;
	}
	to {
		stroke-dashoffset: 0;
	}
}

.checkmark-animation {
	stroke-dasharray: 100;
	stroke-dashoffset: 100;
	animation: checkmark var(--duration-normal) var(--ease-out) forwards;
}

/* Error shake */
@keyframes shake {
	10%,
	90% {
		transform: translateX(-1px);
	}
	20%,
	80% {
		transform: translateX(2px);
	}
	30%,
	50%,
	70% {
		transform: translateX(-4px);
	}
	40%,
	60% {
		transform: translateX(4px);
	}
}

.shake {
	animation: shake var(--duration-normal) var(--ease-out);
}

/* --------------------------------------------------------------------
   Gradient Animations
   -------------------------------------------------------------------- */

@keyframes gradientShift {
	0% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 50%;
	}
}

.gradient-animation {
	background-size: 200% 200%;
	animation: gradientShift 3s var(--ease-in-out) infinite;
}
